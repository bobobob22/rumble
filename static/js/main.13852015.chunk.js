(this["webpackJsonprumble-app"]=this["webpackJsonprumble-app"]||[]).push([[0],{23:function(n,e,t){n.exports=t(36)},35:function(n,e,t){},36:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(14),c=t.n(i),o=t(2),u=(t(28),t(8)),l=t.n(u),s=t(15),m=t(5),d=t(16),f=t(21),p=t(22),v=t(3),b=t(17);function h(){var n=Object(v.a)(["\n  cursor: pointer;\n"]);return h=function(){return n},n}var g=Object(o.b)(b.a)(h()),j=function(n){var e=n.icon,t=n.color,r=n.onClick;return a.a.createElement(g,{icon:e,size:"3x",color:t,onClick:r})};function x(){var n=Object(v.a)(["\n  font-style: italic;\n"]);return x=function(){return n},n}function E(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  margin-top: auto;\n  margin-bottom: 30px;\n"]);return E=function(){return n},n}function O(){var n=Object(v.a)(["\n  width: 100%;\n"]);return O=function(){return n},n}function k(){var n=Object(v.a)(["\n  max-width: 200px;\n"]);return k=function(){return n},n}function w(){var n=Object(v.a)(["\n   text-align: center;\n"]);return w=function(){return n},n}function y(){var n=Object(v.a)(["\n  padding: 10px;\n  max-width: 90%;\n  height: 90%;\n  width: 100%;\n  border: 1px solid #000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return y=function(){return n},n}function C(){var n=Object(v.a)(["\n  width: 100%;\n  max-width: 100%;\n  max-height: 100%;\n  height: 100vh;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  \n  "," {\n    max-width: 500px;\n    max-height: 600px;\n  }\n"]);return C=function(){return n},n}var R=o.b.div(C(),(function(n){return n.theme.color.main}),(function(n){return n.theme.breakpoints.up("md")})),T=o.b.div(y()),M=o.b.h2(w()),S=o.b.div(k()),X=o.b.img(O()),I=o.b.div(E()),F=o.b.p(x()),N=Object(o.c)((function(n){var e=n.theme,t=n.movie,r=n.handleRejectMovie,i=n.handleAcceptMovie,c=t.imageURL,o=t.title,u=t.summary,l=t.rating;return a.a.createElement(R,null,a.a.createElement(T,null,a.a.createElement(M,null,o," ",l," / 10"),a.a.createElement(S,null,a.a.createElement(X,{src:c,alt:o})),a.a.createElement(F,null,u),a.a.createElement(I,null,a.a.createElement(j,{icon:f.faTimesCircle,color:e.color.error,onClick:r}),a.a.createElement(j,{icon:p.faCheckCircle,color:e.color.active,onClick:i}))))})),P=t(4),V=function(n){var e=n.index,t=n.pos,r=n.numItems;return e-t<0?r-Math.abs(e-t):e-t},B={pos:5,sliding:!1,dir:"NEXT"};function z(n,e){switch(console.log("state",n,"action",e),e.type){case"reset":return B;case"PREV":return Object(P.a)(Object(P.a)({},n),{},{dir:"PREV",sliding:!0,pos:n.pos===e.numItems-1?0:n.pos+1});case"NEXT":return Object(P.a)(Object(P.a)({},n),{},{dir:"NEXT",sliding:!0,pos:n.pos===e.numItems-1?0:n.pos+1});case"stopSliding":return Object(P.a)(Object(P.a)({},n),{},{sliding:!1});default:return n}}function A(){var n=Object(v.a)(["\n  flex: 1 0 100%;\n  flex-basis: 100%;\n  order: ",";\n"]);return A=function(){return n},n}function D(){var n=Object(v.a)(["\n  display: flex;\n  transition: ",";\n\n  transform: ",";\n"]);return D=function(){return n},n}function J(){var n=Object(v.a)(["\n  overflow: hidden;\n  width: 100%;\n"]);return J=function(){return n},n}function L(){var n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n\n  "," {\n    max-width: 800px;\n    margin: 0 auto;\n    background: rgba(0,0,0,0.15);\n  }\n"]);return L=function(){return n},n}var U=o.b.div(L(),(function(n){return n.theme.breakpoints.up("md")})),q=o.b.div(J()),G=o.b.div(D(),(function(n){return n.sliding?"none":"transform 1s ease"}),(function(n){return n.sliding?"NEXT"===n.dir?"translateX(calc(2 * (-100%)))":"translateX(0%)":"translateX(calc(-100%))"})),H=o.b.div(A(),(function(n){return n.order})),K=function(n){var e=Object(r.useContext)(Q),t=e&&e.movies&&e.movies.length,i=a.a.useReducer(z,B),c=Object(m.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(0),s=Object(m.a)(l,2),f=s[0],p=s[1],v=e&&e.movies&&e.movies.length,b=t&&e.movies.length===f,h=function(n){u({type:n,numItems:v}),setTimeout((function(){u({type:"stopSliding"})}),50)},g=Object(d.a)({onSwipedLeft:function(){p((function(){return f+1})),h("PREV")},onSwipedRight:function(){return h("stopSliding")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return t?a.a.createElement(U,null,b?a.a.createElement("p",null,"There is no more movies in our database..."):a.a.createElement(q,g,a.a.createElement(G,{dir:o.dir,sliding:o.sliding},e&&e.movies&&e.movies.map((function(n,e){var t=e===f;return a.a.createElement(H,{key:e,order:V({index:e,pos:o.pos,numItems:v})},a.a.createElement(N,{key:n.id,movie:n,handleRejectMovie:function(){return n.id,console.log("reject"),h("PREV"),void p((function(){return f+1}))},handleAcceptMovie:function(){return n.id,console.log("accept"),h("NEXT"),void p((function(){return f+1}))},isMovieVisible:t}))}))))):null},Q=a.a.createContext([[],function(){}]),W=function(){var n=Object(r.useState)([]),e=Object(m.a)(n,2),t=e[0],i=e[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var n=Object(s.a)(l.a.mark((function n(){var e,t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://simple-rumble-backend.herokuapp.com/movies","/all"));case 3:return e=n.sent,n.next=6,e.json();case 6:(t=n.sent)&&i((function(){return t})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(Q.Provider,{value:t},a.a.createElement(K,{"data-testid":"app"}))},Y={color:{main:"#DFF583",greyBg:"#F5F6FB",error:"#EC4E4F",active:"#65CC94"},zIndex:{modal:99999},breakpoints:{values:{sm:576,md:768,lg:991,xl:1200},up:function(n){var e=Y.breakpoints.values[n];return"@media all and (min-width: ".concat(e,"px)")}}};t(35);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(o.a,{theme:Y},a.a.createElement(W,null))),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.13852015.chunk.js.map